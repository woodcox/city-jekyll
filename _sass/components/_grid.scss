/**
 * Flexgrid
 */
// https://www.dailysmarty.com/posts/streamlining-flexbox-calls-with-scss-mixins
@mixin flex-config($justify-content: false, $flex: false, $flex-direction: false, $align-items: false) {
  display: flex;
  
  @if $justify-content != false {
    justify-content: $justify-content;
  }
  
  @if $flex != false {
    flex: $flex;
  }
  
  @if $flex-direction != false {
    flex-direction: $flex-direction;
  }
  
  @if $align-items != false {
    align-items: $align-items;
  }
}

$gutters: 0.5rem;
$margin-bottom: 1rem;

// The rows have a negative margin which are offset by the positive margins on the columns to create gutters.
%column-margin {
  margin-left: $gutters;
  margin-right: $gutters;
}

%row-margin {
  margin-left: -$gutters;
  margin-right: -$gutters;
}

// Flex grid
%flex-grid {
  display: flex;
  flex-wrap: wrap;
}

// Flex row
.flex-row {
  @extend %row-margin;
  @extend %flex-grid;
  flex-direction: row;
}

// Flex column
.flex-col {
  @extend %flex-grid;
  flex-direction: column;
}

.flex-small,
.flex-medium,
.flex-large {
  @extend %column-margin;
  flex-basis: 100%;
  margin-bottom: $margin-bottom;
}

@mixin gridbreak($break-size, $break-size-abbr){
  .flex-#{$break-size} {
    flex: 1;
    &.#{$break-size-abbr}-half {
      flex: 0 0 calc(1 / 2 * 100% - #{$gutters} * 2);
    }
    &.#{$break-size-abbr}-one-fourth {
      flex: 0 0 calc(1 / 4 * 100% - #{$gutters} * 2);
    }
    &.#{$break-size-abbr}-three-fourths {
      flex: 0 0 calc(3 / 4 * 100% - #{$gutters} * 2);
    }
    &.#{$break-size-abbr}-one-third {
      flex: 0 0 calc(1 / 3 * 100% - #{$gutters} * 2);
    }
    &.#{$break-size-abbr}-two-thirds {
      flex: 0 0 calc(2 / 3 * 100% - #{$gutters} * 2);
    }
  }
}

/* Small screen breakpoint */

@include small-breakpoint {
  @include gridbreak(small, sm);
}

/* Medium screen breakpoint */

@include medium-breakpoint {
  @include gridbreak(medium, med);
}

/* Large screen breakpoint */

@include large-breakpoint {
  @include gridbreak(large, lg);
}
