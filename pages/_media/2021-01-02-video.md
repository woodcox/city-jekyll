---
title: "Videos"
collection_type: "media"
layout: sectioned-page
container-size: medium
heading: 1
bg-color: alternate-background
video_detail:
{%- for talk in site.data.sermons.items %}
{%- assign sermon-date-time = talk.pubDate | date: "%-d %b %Y - %I:%M %p" %}
{%- assign sermon-date = sermon-date-time | date: "%-d %b %Y" %}
{%- if sermon-date-time contains "10:45" %}
{%- for mp4 in site.data.YouTube.items %}
{%- assign media = talk.title | split: " - " %}
{%- assign video-date = mp4.title | remove: "City Evangelical Church" | date: "%-d %b %Y" %}
{%- if sermon-date == video-date %}
  - videodate: {{ video-date }}
    passage: {{ media[1] }}{% if media[0] contains media[1] %}{% else %} - {{ media[0] | slice: 13, 100 }}{% endif %}
    preacher: {{ talk.author | split: "(" | last | remove: ")" }}
    youtube_id: {{ mp4.guid | remove: "yt:video:" }}
{%- endif %}
{%- endfor %}
{%- endif %}
{%- endfor %}
---

## Recent services

Catch up on our recent Sunday morning services if you could not come or missed the live stream.

{% for video in page.video_detail %}
<p>{{ video.videodate | liquify }}</p>
<p>{{ video.preacher | liquify }}</p>
{% endfor %}

{%- for mp4 in site.data.YouTube.items limit: 1 %}
<div class="flex-row">
  <div class="flex-tiny ty-two-thirds">
    <div class="icontain">
      <iframe class="lozad"
              id="video-{{ mp4.guid | remove: "yt:video:" }}"
              title="City Evangelical Church morning service {{ mp4.title | remove: "City Evangelical Church" }}" 
              data-src="https://www.youtube-nocookie.com/embed/{{ mp4.guid | remove: "yt:video:" }}" allowfullscreen>
      </iframe>
    </div>
  </div>
  <div class="flex-tiny ty-one-third">
    <a id="play-video-{{ mp4.guid | remove: "yt:video:" }}">
      <p><strong>Play:</strong> Morning service on {{ mp4.title | remove: "City Evangelical Church" | date: "%-d %b %Y" }}</p>
      <p><strong>Preacher:</strong></p>
    </a>T
  </div>
</div>
<hr>
<script>
  $('#play-video-{{ mp4.guid | remove: "yt:video:" }}').on('click', function(e) {
    var $video = $('#video-{{ mp4.guid | remove: "yt:video:" }}');
    src = $video.attr('src');
    $video.attr('src', src + '?autoplay=1&mute=1');
  });
</script>
{% endfor %}

## Catch up videos

{% include components/video-cards.html %}
